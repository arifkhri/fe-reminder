"use strict";(self.webpackChunkfe_hr_app=self.webpackChunkfe_hr_app||[]).push([[501],{6501:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(9439),i=t(2791),s=t(5581),r=t(7309),c=t(1561),l=t(419),o=t(6106),d=t(914),u=t(8678),f=t(7083),m=t(7825),h=t(3734),Z=t(9221),x=t(1413),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},p=t(4291),j=function(e,n){return i.createElement(p.Z,(0,x.Z)((0,x.Z)({},e),{},{ref:n,icon:v}))};j.displayName="LockOutlined";var b=i.forwardRef(j),g=t(1752),y=t(1730),k=t(2621),w=t(9286),C=t(3605),N=t(9657),S=t(946),P=t(3272),E=t(6895),O=t(184);var I=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.Z.Item,{name:"full_name",label:"Nama Lengkap",rules:[E.Z.required()],children:(0,O.jsx)(u.Z,{})}),(0,O.jsx)(P.Z.Item,{name:"email",label:"Email",rules:[E.Z.required(),E.Z.email()],children:(0,O.jsx)(u.Z,{})}),(0,O.jsx)(P.Z.Item,{name:"phone",label:"No. Telp",rules:[E.Z.required()],children:(0,O.jsx)(u.Z,{})})]})};var T=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.Z.Item,{name:"password",label:"Password",rules:[E.Z.password()],children:(0,O.jsx)(u.Z.Password,{})}),(0,O.jsx)(P.Z.Item,{name:"confirmPassword",label:"Konfirmasi Password",rules:[E.Z.required(),E.Z.matchWith({fieldName:"password",message:"Password tidak sama"})],children:(0,O.jsx)(u.Z.Password,{})})]})};var _=function(e){var n=(0,S.Z)().store,t=P.Z.useForm(),s=(0,a.Z)(t,1)[0],c=(0,i.useState)(null),o=(0,a.Z)(c,2),d=o[0],u=o[1];return N.Z.config(n),(0,O.jsx)(f.Z,{spinning:d,children:(0,O.jsxs)(P.Z,{onFinish:function(){var n=s.getFieldsValue(!0);u(!0),N.Z.post("/user",n).then((function(n){u(!1),l.ZP.success(n.data),e.afterSubmit()})).catch((function(e){var n=e.response;l.ZP.error(n.data),u(!1)}))},form:s,layout:"vertical",children:[(0,O.jsx)(I,{}),(0,O.jsx)(T,{}),(0,O.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,O.jsx)(r.Z,{onClick:function(){e.afterSubmit()},children:"Kembali"}),(0,O.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Simpan"})]})]})})};var F=function(e){var n=(0,S.Z)().store,t=P.Z.useForm(),s=(0,a.Z)(t,1)[0],c=(0,i.useState)(null),o=(0,a.Z)(c,2),d=o[0],u=o[1];return N.Z.config(n),(0,i.useEffect)((function(){s.setFieldsValue(e.data)}),[e.data]),(0,O.jsx)(f.Z,{spinning:d,children:(0,O.jsxs)(P.Z,{form:s,onFinish:function(){var n=s.getFieldsValue(!0);N.Z.put("/user/".concat(e.data.id),n).then((function(n){u(!1),l.ZP.success(n.data),e.afterSubmit()})).catch((function(e){var n=e.response;l.ZP.error(n.data),u(!1)}))},layout:"vertical",children:[(0,O.jsx)(I,{}),(0,O.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,O.jsx)(r.Z,{onClick:function(){e.afterSubmit()},children:"Kembali"}),(0,O.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Simpan"})]})]})})};var z=function(e){var n=(0,S.Z)().store,t=P.Z.useForm(),s=(0,a.Z)(t,1)[0],c=(0,i.useState)(null),o=(0,a.Z)(c,2),d=o[0],u=o[1];return N.Z.config(n),(0,O.jsx)(f.Z,{spinning:d,children:(0,O.jsxs)(P.Z,{form:s,onFinish:function(){var n=s.getFieldsValue(!0);N.Z.put("/user/".concat(e.data.id,"/password"),{new_password:n.confirmPassword}).then((function(n){u(!1),l.ZP.success(n.data),e.afterSubmit()})).catch((function(e){var n=e.response;l.ZP.error(n.data),u(!1)}))},layout:"vertical",children:[(0,O.jsx)(T,{}),(0,O.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,O.jsx)(r.Z,{onClick:function(){e.afterSubmit()},children:"Kembali"}),(0,O.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"Simpan"})]})]})})};var L=function(){var e=(0,S.Z)(),n=e.store,t=e.dispatch,x=(0,i.useState)({offset:0,limit:10,resource:[],current:0,total:0}),v=(0,a.Z)(x,2),p=v[0],j=v[1],P=(0,i.useState)({keyword:""}),E=(0,a.Z)(P,2),I=E[0],T=E[1],L=(0,i.useState)(null),V=(0,a.Z)(L,2),A=V[0],K=V[1],M=(0,i.useState)(!1),U=(0,a.Z)(M,2),D=U[0],H=U[1];N.Z.config(n);var R=[{title:"NAMA",dataIndex:"full_name",key:"name"},{title:"EMAIL",dataIndex:"email",key:"email"},{title:"NO. TELP",dataIndex:"phone",key:"notelp"},{title:"STATUS",key:"action",align:"center",dataIndex:"is_active",render:function(e,t){var a;return(null===n||void 0===n||null===(a=n.userData)||void 0===a?void 0:a.email)!==t.email?(0,O.jsx)(s.Z,{checked:e,size:"small",onClick:function(){return function(e){var n={title:"Konfirmasi",content:"Apakah anda yakin ".concat(e.is_active?"menonaktifkan":"mengaktifkan"," user ").concat(e.full_name,"?"),onOk:function(){!function(e){H(!0),N.Z.put("/user/".concat(e.id,"/active"),{is_active:!e.is_active}).then((function(e){B(),l.ZP.success(e.data)})).catch((function(e){var n=e.response;l.ZP.error(n.data),H(!1)}))}(e)}};c.Z.confirm(n)}(t)}}):(0,O.jsx)(O.Fragment,{})}},{title:"UPDATE",align:"center",key:"action",render:function(e,n){return(0,O.jsx)(r.Z,{className:"btn-sm btn-faint-primary",type:"",onClick:function(){return q("updateUser",n)},children:(0,O.jsx)(g.Z,{})})}},{title:"PASSWORD",align:"center",key:"action",render:function(e,n){return(0,O.jsx)(r.Z,{className:"btn-sm btn-faint-warning",type:"",onClick:function(){return q("updatePassword",n)},children:(0,O.jsx)(b,{})})}}],q=function(e,n){var t={content:(0,O.jsx)(_,{afterSubmit:function(){return W()}}),title:"Tambah Pengguna",visible:!0,onCancel:function(){K({visible:!1})}};"updateUser"===e&&(t.content=(0,O.jsx)(F,{data:n,afterSubmit:function(){return W()}}),t.title="Ubah Pengguna"),"updatePassword"===e&&(t.content=(0,O.jsx)(z,{data:n,afterSubmit:function(){return W()}}),t.title="Ubah Password"),K(t)};function W(){B(),K({visible:!1})}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.limit,t=void 0===n?null:n,a=e.offset,i=void 0===a?null:a;H(!0),N.Z.get("/user",{params:{keyword:I.keyword,limit:t||p.limit,offset:i||p.offset}}).then((function(e){H(!1),j({limit:e.data.limit,offset:e.data.offset,current:p.current,resource:e.data.data,total:e.data.total})})).catch((function(){H(!1)}))}return(0,i.useEffect)((function(){t({type:"update",name:"headerTitle",value:"Pengguna"}),B()}),[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(o.Z,{className:"mb-4 mt-5 pt-2",children:[(0,O.jsx)(d.Z,{className:"search",xs:24,md:12,children:(0,O.jsx)(d.Z,{span:12,children:(0,O.jsx)(u.Z,{value:I.keyword,prefix:(0,O.jsx)(y.Z,{}),placeholder:"Cari",onChange:function(e){T({keyword:e.target.value})},onPressEnter:function(){return B()},suffix:(0,O.jsx)(k.Z,{onClick:function(){return T({keyword:""})}})})})}),(0,O.jsx)(d.Z,{xs:24,md:12,className:"mt-md-0  mt-2",children:(0,O.jsxs)(o.Z,{justify:"end",children:[(0,O.jsx)(d.Z,{children:(0,O.jsxs)(r.Z,{className:"btn-user",type:"primary",onClick:q,children:["Tambah User ",(0,O.jsx)(w.Z,{})]})}),(0,O.jsx)(d.Z,{className:"px-2",children:(0,O.jsx)(r.Z,{className:"btn-snow btn-sm",type:"primary",onClick:function(){return B()},children:(0,O.jsx)(C.Z,{})})})]})})]}),(0,O.jsx)("div",{className:"list",children:(0,O.jsxs)(f.Z,{spinning:D,children:[(0,O.jsx)(m.Z,{scroll:!0,columns:R,dataSource:p.resource,size:"small",pagination:!1}),(0,O.jsxs)(o.Z,{className:"mt-2",children:[(0,O.jsx)(d.Z,{xs:24,md:12,children:(0,O.jsxs)("div",{className:"d-flex align-items-center",children:[(0,O.jsxs)("span",{className:"d-flex align-items-center",children:[(0,O.jsx)("span",{className:"mr-2",children:"Menampilkan"}),(0,O.jsxs)(h.Z,{value:p.limit,onChange:function(e){B({limit:e})},children:[(0,O.jsx)(h.Z.Option,{value:10,children:"10"}),(0,O.jsx)(h.Z.Option,{value:20,children:"20"}),(0,O.jsx)(h.Z.Option,{value:30,children:"30"})]})]}),(0,O.jsx)("span",{className:"px-2",children:"|"}),(0,O.jsxs)("span",{children:["Total ",p.total," "]})]})}),(0,O.jsx)(d.Z,{xs:24,md:12,className:"mt-md-0 mt-2 d-flex justify-content-end",children:(0,O.jsx)(Z.Z,{onChange:function(e){B({offset:e})},total:p.total,pageSize:p.limit})})]})]})}),(null===A||void 0===A?void 0:A.visible)&&(0,O.jsx)(c.Z,{footer:null,title:null===A||void 0===A?void 0:A.title,visible:null===A||void 0===A?void 0:A.visible,onCancel:null===A||void 0===A?void 0:A.onCancel,children:null===A||void 0===A?void 0:A.content})]})}},1752:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(1413),i=t(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},r=t(4291),c=function(e,n){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:s}))};c.displayName="EditOutlined";var l=i.forwardRef(c)},5581:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(7462),i=t(4942),s=t(2791),r=t(9439),c=t(4925),l=t(1694),o=t.n(l),d=t(5179),u=t(1354),f=s.forwardRef((function(e,n){var t,a=e.prefixCls,l=void 0===a?"rc-switch":a,f=e.className,m=e.checked,h=e.defaultChecked,Z=e.disabled,x=e.loadingIcon,v=e.checkedChildren,p=e.unCheckedChildren,j=e.onClick,b=e.onChange,g=e.onKeyDown,y=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,d.Z)(!1,{value:m,defaultValue:h}),w=(0,r.Z)(k,2),C=w[0],N=w[1];function S(e,n){var t=C;return Z||(N(t=e),null===b||void 0===b||b(t,n)),t}var P=o()(l,f,(t={},(0,i.Z)(t,"".concat(l,"-checked"),C),(0,i.Z)(t,"".concat(l,"-disabled"),Z),t));return s.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":C,disabled:Z,className:P,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?S(!1,e):e.which===u.Z.RIGHT&&S(!0,e),null===g||void 0===g||g(e)},onClick:function(e){var n=S(!C,e);null===j||void 0===j||j(n,e)}}),x,s.createElement("span",{className:"".concat(l,"-inner")},C?v:p))}));f.displayName="Switch";var m=f,h=t(7106),Z=t(2833),x=t(9077),v=t(1815),p=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]])}return t},j=s.forwardRef((function(e,n){var t,r=e.prefixCls,c=e.size,l=e.loading,d=e.className,u=void 0===d?"":d,f=e.disabled,j=p(e,["prefixCls","size","loading","className","disabled"]),b=s.useContext(x.E_),g=b.getPrefixCls,y=b.direction,k=s.useContext(v.Z),w=g("switch",r),C=s.createElement("div",{className:"".concat(w,"-handle")},l&&s.createElement(h.Z,{className:"".concat(w,"-loading-icon")})),N=o()((t={},(0,i.Z)(t,"".concat(w,"-small"),"small"===(c||k)),(0,i.Z)(t,"".concat(w,"-loading"),l),(0,i.Z)(t,"".concat(w,"-rtl"),"rtl"===y),t),u);return s.createElement(Z.Z,{insertExtraNode:!0},s.createElement(m,(0,a.Z)({},j,{prefixCls:w,className:N,disabled:f||l,ref:n,loadingIcon:C})))}));j.__ANT_SWITCH=!0,j.displayName="Switch";var b=j}}]);
//# sourceMappingURL=501.80cfa80b.chunk.js.map